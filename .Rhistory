avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$REGION<-NULL
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
setwd("~/Dropbox/working directory R/COVID CHILE")
setwd("~/Dropbox/working directory R/COVID CHILE/CovidyChile")
library(xlsxjars)
library(xlsx)
library(dplyr)
library(tidyr)
library(corrplot)
library(ggplot2)
library(lubridate)
library(googleVis)
library(shiny)
##gráfico de muertes vs otras variables
output$distPlot <- renderGvis({grafico_bj()})
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
source("grafico_burbujas_internacional.R")
source("datos_de_chile.R")
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
View(grafico_bj)
source("grafico_burbujas_internacional.R")
source("datos_de_chile.R")
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
View(avance_contagiados)
View(avance_contagiados)
runApp()
runApp()
runApp()
runApp()
runApp('~/Dropbox/working directory R/CMCs2020/graficos_de_CMCs')
runApp()
runApp()
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
plot_ly(avance_contagiados, x = ~Fecha, y = ~`Contagiados cada 100000 habitantes`,type = 'scatter', mode ='lines' ,color = ~COMUNA,
text = ~paste(paste("Población:", `Población`),
paste("Comuna:", `COMUNA`),sep="\n"))
library(plotly)
plot_ly(avance_contagiados, x = ~Fecha, y = ~`Contagiados cada 100000 habitantes`,type = 'scatter', mode ='lines' ,color = ~COMUNA,
text = ~paste(paste("Población:", `Población`),
paste("Comuna:", `COMUNA`),sep="\n"))
View(avance_contagiados)
plot_ly(avance_contagiados, x = ~Fecha, y = ~`Contagiados cada 100000 habitantes`,type = 'scatter', mode ='lines' ,color = ~COMUNA,
text = ~paste(paste("Población:", `Población`),
paste("Comuna:", `COMUNA`),sep="\n"))}
plot_ly(avance_contagiados, x = ~Fecha, y = ~`Contagiados cada 100000 habitantes`,type = 'scatter', mode ='lines' ,color = ~COMUNA,
text = ~paste(paste("Población:", `Población`),
paste("Comuna:", `COMUNA`),sep="\n"))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
avance_contagiados <- arrange(avance_contagiados, asc(Fecha))
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
source("grafico_burbujas_internacional.R")
source("datos_de_chile.R")
###gráfico de contagiados por comuna
avance_contagiados<-avance_contagiados()
avance_contagiados <- arrange(avance_contagiados, asc(Fecha))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
avance_contagiados<-arrange(avance_contagiados,Fecha)
avance_contagiados<-function(){
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados<-arrange(avance_contagiados,Fecha)
avance_contagiados_chile
}
avance_contagiados()
avance_contagiados<-function(){
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados,Fecha)
avance_contagiados_chile
}
avance_contagiados()
avance_contagiados<-function(){
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados_chile,Fecha)
avance_contagiados_chile
}
avance_contagiados()
runApp()
runApp()
runApp()
runApp()
View(avance_contagiados)
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados<-function(){
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados_chile,Fecha)
avance_contagiados_chile
}
avance_contagiados<-function(){
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados_chile,Fecha)
avance_contagiados_chile
}
View(avance_contagiados_chile)
runApp()
runApp()
runApp()
runApp()
runApp()
###gráfico de contagiados por comuna
avance_contagiados_t<-avance_contagiados()
runApp()
runApp()
View(avance_contagiados_chile)
View(avance_contagiados_t)
avance_contagiados_t$"REGION-COMUNA"<-paste(avance_contagiados_t$REGION,avance_contagiados_t$COMUNA,sep="-")
View(avance_contagiados_t)
View(avance_contagiados_chile)
View(avance_contagiados_t)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
x<-avance_contagiados_t
x<-filter(x,REGION==input$i_REGION)
runApp()
x<-avance_contagiados_t
x<-filter(x,REGION==input$i_REGION)
runApp()
runApp()
x<-avance_contagiados_t
View(avance_contagiados_chile)
x<-filter(x,REGION==Valparaíso )
x<-filter(x,REGION=="Valparaíso" )
View(x)
View(avance_contagiados_t)
x<-filter(x,REGION=="Biobío" )
x<-avance_contagiados_t
x<-filter(x,REGION=="Biobío" )
View(x)
View(avance_contagiados_t)
x<-avance_contagiados_t
View(x)
x<-filter(x,REGION=="Atacama " )
x<-filter(x,REGION=="Atacama" )
x$REGION
x<-avance_contagiados_t
x<-filter(x,REGION=="Atacama" )
x<-avance_contagiados_t
x$REGION
x<-filter(x,REGION=="Metropolitana ")
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana ")
x<-filter(x,REGION=="Metropolitana ")
x<-select(x,COMUNA)
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana ")
library(xlsxjars)
library(xlsx)
library(dplyr)
library(tidyr)
library(corrplot)
library(ggplot2)
library(lubridate)
library(googleVis)
library(shiny)
library(plotly)
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana ")
x<-dplyr::filter(x,REGION=="Metropolitana ")
x<-avance_contagiados_t
x<-dplyr::filter(x,REGION=="Metropolitana ")
str(x)
colnames(x)
x<-filter(x,"REGION"=="Metropolitana ")
x<-avance_contagiados_t
x<-filter(x,"REGION"=="Metropolitana ")
View(x)
View(avance_contagiados_t)
x<-filter(x,Población==25002)
x<-avance_contagiados_t
x<-filter(x,Población==25002)
x<-avance_contagiados_t
x<-filter(x,Población==25002)
###gráfico de contagiados por comuna
avance_contagiados_t<-avance_contagiados()
avance_contagiados_t$"REGION-COMUNA"<-paste(avance_contagiados_t$REGION,avance_contagiados_t$COMUNA,sep="-")
x<-avance_contagiados_t
x<-filter(x,REGION=="Aisén")
View(avance_contagiados_t)
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile$REGION<-gsub("[[:space:]]*$","",avance_contagiados_chile$REGION)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados_chile,Fecha)
avance_contagiados_chile$REGION
x<-filter(x,REGION=="Metropolitana")
###gráfico de contagiados por comuna
avance_contagiados_t<-avance_contagiados()
avance_contagiados_t$"REGION-COMUNA"<-paste(avance_contagiados_t$REGION,avance_contagiados_t$COMUNA,sep="-")
e
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-filter(x,REGIÓN=="Metropolitana")
x<-filter(x,REGION=="Metropolitana")
x<-filter(data=x,REGION=="Metropolitana")
x<-filter(data=x,x$REGION=="Metropolitana")
x<-filter(data,x$REGION=="Metropolitana")
x<-filter(x,REGION=="Metropolitana")
x<-filter(x,"REGION"=="Metropolitana")
x<-avance_contagiados_t
x<-filter(x,"REGION"=="Metropolitana")
x<-avance_contagiados_t
x<-filter(x,"REGION"=="Metropolitana")
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-avance_contagiados_t
x<-filter(x,´REGION´=="Metropolitana")
x<-select(x,COMUNA)
updateSelectInput(session,"i_COMUNA","Comuna",choices=unique(x))
runApp()
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-filter(x,REGION="Metropolitana")
x<-select(x,COMUNA)
x<-avance_contagiados_t
x<-filter(x,REGION="Metropolitana")
x<-select(x,COMUNA)
x<-avance_contagiados_t
x<-filter(x,REGION="Metropolitana")
x<-filter(x,REGION=="Metropolitana")
View(x)
View(x)
View(avance_contagiados_t)
ava<-filter(avance_contagiados_t,COMUNA="Atacama")
ava<-filter(avance_contagiados_t,COMUNA=="Atacama")
str(avance_contagiados_t)
ava<-filter(avance_contagiados_t,COMUNA=="Atacama ")
ava<-filter(avance_contagiados_t,COMUNA=="Atacama   ")
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile$REGION<-gsub("[[:space:]]*$","",avance_contagiados_chile$REGION)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados_chile,Fecha)
library(xlsxjars)
library(xlsx)
library(dplyr)
library(tidyr)
library(corrplot)
library(ggplot2)
library(lubridate)
library(googleVis)
library(chilemapas)
library(plotly)
library(rgdal)
library(leaflet)
library(sp)
avance_contagiados_chile<-read.xlsx("www/datos_minsal.xlsx",sheetName ="avance_contagiados_comuna")
avance_contagiados_chile$Fecha<-as.Date(as.character(avance_contagiados_chile$Fecha))
avance_contagiados_chile$REGION<-as.character(avance_contagiados_chile$REGION)
avance_contagiados_chile$COMUNA<-as.character(avance_contagiados_chile$COMUNA)
avance_contagiados_chile$Población<-as.numeric(as.character(avance_contagiados_chile$Población))
avance_contagiados_chile$Tasa.incidencia<-as.numeric(as.character(avance_contagiados_chile$Tasa.incidencia))
avance_contagiados_chile$Confirmados<-as.numeric(as.character(avance_contagiados_chile$Confirmados))
avance_contagiados_chile_confirmados_NA<-filter(avance_contagiados_chile,is.na(Confirmados))
avance_contagiados_chile_confirmados_NA$Confirmados<-round((avance_contagiados_chile_confirmados_NA$Tasa.incidencia*avance_contagiados_chile_confirmados_NA$Población)/100000,0)
avance_contagiados_chile_confirmados_no_NA<-filter(avance_contagiados_chile,!is.na(Confirmados))
avance_contagiados_chile<-rbind(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
rm(avance_contagiados_chile_confirmados_NA,avance_contagiados_chile_confirmados_no_NA)
avance_contagiados_chile$"Contagiados cada 100000 habitantes"<-(avance_contagiados_chile$Confirmados/avance_contagiados_chile$Población)*100000
avance_contagiados_chile$COMUNA<-gsub("[[:space:]]*$","",avance_contagiados_chile$COMUNA)###ver ?regex
avance_contagiados_chile$REGION<-gsub("[[:space:]]*$","",avance_contagiados_chile$REGION)###ver ?regex
avance_contagiados_chile<-arrange(avance_contagiados_chile,Fecha)
View(avance_contagiados_chile)
ava<-filter(avance_contagiados_t,COMUNA=="Atacama   ")
str(avance_contagiados_chile)
library(xlsxjars)
library(xlsx)
library(dplyr)
library(tidyr)
library(corrplot)
library(ggplot2)
library(lubridate)
library(googleVis)
library(shiny)
library(plotly)
###gráfico de contagiados por comuna
avance_contagiados_t<-avance_contagiados()
library(xlsxjars)
library(xlsx)
library(dplyr)
library(tidyr)
library(corrplot)
library(ggplot2)
library(lubridate)
library(googleVis)
library(shiny)
library(plotly)
setwd("~/Dropbox/working directory R/COVID CHILE/CovidyChile")
source("grafico_burbujas_internacional.R")
source("datos_de_chile.R")
##gráfico de muertes vs otras variables
output$distPlot <- renderGvis({grafico_bj()})
###gráfico de contagiados por comuna
avance_contagiados_t<-avance_contagiados()
avance_contagiados_t$"REGION-COMUNA"<-paste(avance_contagiados_t$REGION,avance_contagiados_t$COMUNA,sep="-")
observe({
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-select(x,COMUNA)
updateSelectInput(session,"i_COMUNA","Comuna",choices=unique(x))
})
##gráfico de muertes vs otras variables
output$distPlot <- renderGvis({grafico_bj()})
###gráfico de contagiados por comuna
avance_contagiados_t<-avance_contagiados()
avance_contagiados_t$"REGION-COMUNA"<-paste(avance_contagiados_t$REGION,avance_contagiados_t$COMUNA,sep="-")
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-select(x,COMUNA)
runApp()
runApp()
x<-filter(x,REGION=="Atacama")
x<-avance_contagiados_t
x<-filter(x,REGION=="Atacama")
x<-select(x,COMUNA)
View(x)
updateSelectInput(session,"i_COMUNA","Comuna",choices=unique(x))
x<-filter(x,REGION==input$i_REGION)
runApp()
observe({
x<-avance_contagiados_t
x<-filter(x,REGION==input$i_REGION)
x<-select(x,COMUNA)
updateSelectInput(session,"i_COMUNA","Comuna",choices=unique(x))
})
runApp()
x<-avance_contagiados_t
x<-filter(x,REGION=="Metropolitana")
x<-select(x,COMUNA)
"i_COMUNA","Comuna"
choices=unique(x)
choices
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
library(shinyWidgets)
install.packages("shinyWidgets")
library(shinyWidgets)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp('CovidyChile')
library(xlsxjars)
library(xlsx)
library(dplyr)
library(tidyr)
library(corrplot)
library(ggplot2)
library(lubridate)
library(googleVis)
library(shiny)
library(rgdal)
library(leaflet)
library(sp)
library(shinyWidgets)
runApp('CovidyChile')
runApp('CovidyChile')
runApp('CovidyChile')
setwd("~/Dropbox/working directory R/COVID CHILE/CovidyChile")
runApp()
runApp()
runApp('~/Dropbox/working directory R/COVID CHILE/COVID_CHILE')
runApp('~/Dropbox/working directory R/COVID CHILE/COVID_CHILE')
runApp()
